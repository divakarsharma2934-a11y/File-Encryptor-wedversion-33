{% extends 'locker_app/base.html' %}
{% load static %}
{% load socialaccount %}

{% block title %}Sign Up - File Locker{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'locker_app/css/auth.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <h2 class="auth-title">Create Account</h2>
        <p class="auth-subtitle">Join File Locker to secure your data</p>

        <form method="post">
            {% csrf_token %}
            {% if form.non_field_errors %}
            <div class="alert alert-error">
                {{ form.non_field_errors }}
            </div>
            {% endif %}

            {% for field in form %}
            <div class="form-group">
                <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                {{ field }}
                {% if field.help_text %}
                <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem;">{{ field.help_text }}
                </div>
                {% endif %}
                {% if field.errors %}
                <div style="color: #ef4444; font-size: 0.85rem; margin-top: 0.25rem;">
                    {{ field.errors.0 }}
                </div>
                {% endif %}
            </div>
            {% endfor %}

            <button type="submit" class="btn btn-primary btn-block">Sign Up</button>
        </form>

        <div class="auth-divider">
            <span>OR</span>
        </div>

        <div class="social-login">
            <a href="{% provider_login_url 'google' %}" class="btn btn-google btn-block">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                    <path
                        d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z" />
                </svg>
                Continue with Google
            </a>
        </div>

        <div class="auth-footer">
            Already have an account? <a href="{% url 'login' %}">Sign in</a>
        </div>
    </div>
</div>
{% endblock %}